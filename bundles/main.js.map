{"version":3,"file":"main.js","mappings":"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","sources":["webpack:///./src/render.ts","webpack:///./src/dots.ts","webpack:///./node_modules/lil-gui/dist/lil-gui.esm.js","webpack:///./src/index.ts","webpack:///./src/text.ts"],"sourcesContent":["/**\n * @module render\n * \n * This module contains functions for asynchronusly drawing\n * to each of the canvases\n */\n\nimport { CanvasInstance, FrameCallback } from './index.d';\n\nlet _canvases: Array<CanvasInstance> = [];\n\n\n\n/**\n * @name get_relative_pos\n * @description gets the relative position of the mouse in\n * a canvas instance.\n * @param {CanvasInstance} - The canvas \n * @param {MouseEvent} \n * @returns {[number, number]} - The Relative position on the canvas\n */\nexport const get_relative_pos = (\n canvas: CanvasInstance,\n e: MouseEvent,\n): [number, number] => {\n // -- Get the canvas position\n const canvas_pos = canvas.canvas.getBoundingClientRect();\n\n // -- Return the relative position\n return [\n e.clientX - canvas_pos.x,\n e.clientY - canvas_pos.y\n ];\n}\n\n\n\n/**\n * @name add_canvas\n * @description adds a canvas to the list of canvases\n * @param {number} frame_rate the frame rate to draw at\n * @param {CanvasRenderingContext2D} ctx the canvas to add\n * @param {(ctx: CanvasRenderingContext2D) => void} draw_callback the callback to call when the canvas has been cleared\n * and is ready to be drawn to\n * @returns {CanvasInstance}\n */\nexport const add_canvas = (\n frame_rate: number,\n ctx: CanvasRenderingContext2D, \n draw_callback: (ctx: CanvasRenderingContext2D) => void\n): CanvasInstance => {\n let frame_callbacks = [];\n\n const canvas_obj: CanvasInstance = {\n canvas: ctx.canvas,\n ctx,\n draw_callback,\n last_frame_time: 0,\n frame_rate,\n real_frame_rate: 0,\n\n frame_callbacks,\n add_frame_callback: (cb) => {\n // -- Create the FrameCallback object\n const fc: FrameCallback = {\n func: cb,\n remove: () => {\n const index = frame_callbacks.indexOf(fc);\n if (index > -1) frame_callbacks.splice(index, 1);\n }\n }\n\n // -- Add the callback to the array\n frame_callbacks.push(fc);\n\n // -- Return the FrameCallback\n return fc;\n }\n };\n\n _canvases.push(canvas_obj);\n return canvas_obj;\n}\n\n\n\n/**\n * @name start_draw\n * @description draws to all of the canvases\n * @returns {void}\n */\nexport async function start_draw(): Promise<void> {\n // -- Loop through each of the canvases\n _canvases.forEach(canvas => {\n\n // -- Get the current time\n const current_time = performance.now();\n\n // -- Calculate the time elapsed since the last frame\n const elapsed_time = current_time - canvas.last_frame_time;\n\n // -- Calculate the real frame rate\n canvas.real_frame_rate = 1000 / elapsed_time;\n\n // -- Check if the frame rate has been reached\n if (elapsed_time < 1000 / canvas.frame_rate) return;\n\n // -- Clear the canvas\n canvas.ctx.save();\n canvas.ctx.setTransform(1, 0, 0, 1, 0, 0);\n canvas.ctx.clearRect(0, 0, canvas.canvas.width, canvas.canvas.height);\n canvas.ctx.restore();\n\n // -- Call the draw callback\n canvas.draw_callback(canvas.ctx);\n\n // -- Call the frame callbacks\n canvas.frame_callbacks.forEach((cb) => cb.func());\n\n // -- Update the last frame time\n canvas.last_frame_time = current_time;\n });\n\n // -- Call the draw function again\n requestAnimationFrame(start_draw);\n}\n\n\n\n/**\n * @name animate\n * @description This function enables smooth animation on a canvas by \n * utilizing the `real_frame_rate` of the `CanvasInstance` object. It \n * allows you to create custom animations that progress over time.\n * @param {Function} callback - A function that gets called at each animation step with the updated progress (ranging from 0.0 to 1.0).\n * @param {CanvasInstance} ci - The canvas on which the animation will take place.\n * @param {number} ms - The duration of the animation in milliseconds.\n */\nexport const animate = async (\n callback: (anim_time: number) => void,\n ci: CanvasInstance,\n ms: number\n) => {\n const startTime = performance.now();\n let animTime = 0;\n\n return new Promise<void>((resolve) => {\n // -- Create the FrameCallback\n const fc = ci.add_frame_callback(() => frame());\n\n // -- Func to progress the animation\n const frame = () => {\n const currentTime = performance.now();\n const elapsedTime = currentTime - startTime;\n animTime = elapsedTime / ms;\n\n // -- Check if were done the animation\n if (elapsedTime >= ms) {\n callback(1.0);\n fc.remove()\n resolve();\n } \n \n // -- Continue animating\n else callback(animTime);\n };\n\n });\n};\n\n\n\n/**\n * @name set_opacity\n * @description sets the opacity of a hex color\n * @param {string} hex the hex color to set the opacity of\n * @param {number} opacity the opacity to set\n * @returns {string} the new hex color\n */\nexport const set_opacity = (hex: string, opacity: number): string => {\n const parse_hex = (hex: string) => {\n // -- Remove the hash\n hex = hex.replace('#', '');\n\n // -- Get the r, g, b values\n const r = parseInt(hex.substring(0, 2), 16);\n const g = parseInt(hex.substring(2, 4), 16);\n const b = parseInt(hex.substring(4, 6), 16);\n\n // -- Return the values\n return { r, g, b };\n }\n\n // -- Parse the hex color\n const { r, g, b } = parse_hex(hex);\n\n // -- Return the new hex color\n return `#${r.toString(16)}${g.toString(16)}${b.toString(16)}${opacity}`;\n}","import { CanvasInstance, Dots, Dot, DotsDetailed } from './index.d';\nimport { get_relative_pos } from './render';\n\n\n\n/**\n * @name render_dots\n * @description renders the dots to the canvas\n * @param {CanvasInstance} ci the canvas instance to render to\n * @param {Dots | DotsDetailed} dots the dots to render\n * @param {MouseEvent} e the mouse event to use for the mouse position\n * @param {number} [x_o=0] the x coordinate to start rendering at\n * @param {number} [y_o=0] the y coordinate to start rendering at\n */\nexport const render_dots = (\n ci: CanvasInstance, \n dots: Dots | DotsDetailed,\n e: MouseEvent = null,\n x_o: number = 0,\n y_o: number = 0\n): void => {\n\n // -- Get the mouse position\n let mouse_pos: [number, number] = [-5000, -5000];\n if (e !== null) mouse_pos = get_relative_pos(ci, e);\n\n ci.ctx.beginPath();\n ci.ctx.arc(mouse_pos[0], mouse_pos[1], 10, 0, 2 * Math.PI);\n ci.ctx.fill();\n\n \n // -- Check if the dots are detailed\n let detailed = false;\n if ('data' in dots) {\n detailed = true;\n dots.rows = dots.data.length;\n dots.cols = 0;\n\n // -- Get the longest row\n for (let row = 0; row < dots.rows; row++) {\n if (dots.data[row].length > dots.cols) \n dots.cols = dots.data[row].length;\n }\n }\n\n\n // -- Loop through each row\n for (let row = 0; row < dots.rows; row++) {\n\n // -- Loop through each column\n for (let col = 0; col < dots.cols; col++) {\n // -- Check if the dot is 0\n if (detailed && (dots as DotsDetailed).data[row][col] !== 1) continue;\n\n // -- Calculate the x and y coordinates\n let x = (col * dots.dot_size) + (col * dots.dot_spacing) + x_o,\n y = (row * dots.dot_size) + (row * dots.dot_spacing) + y_o;\n\n // -- Calculate the distance\n const dist = get_dist_from_mouse(mouse_pos, x, y);\n let size = dots.dot_size;\n\n // -- Push the dot away from the mouse\n if (dist < dots.force_size)\n [x, y] = push_dot(mouse_pos, x, y, dist, dots.force_size, dots.force);\n\n // -- Check if the distance is greater than the max distance\n if (dist < dots.max_dist) {\n // -- Calculate the size of the dot\n const capped_dist = Math.min(dist, dots.max_dist),\n norm_dist = (capped_dist / dots.max_dist) - 1;\n\n // -- Calc the size, if 100, then 1, if 0, then 2\n size = dots.dot_size + (norm_dist * dots.dot_size);\n }\n \n\n // -- Draw the dot\n ci.ctx.fillStyle = dots.color;\n \n // -- Circle\n ci.ctx.beginPath();\n ci.ctx.arc(x, y, size / 2, 0, 2 * Math.PI);\n ci.ctx.fill();\n }\n }\n};\n\n\n\n\n/**\n * @name get_dist_from_mouse\n * @description gets the distance from the mouse to a dot\n * @param {[number, number]} mouse_pos the mouse position\n * @param {number} x the x coordinate of the dot\n * @param {number} y the y coordinate of the dot\n * @returns {number} the distance from the mouse to the dot\n */\nexport const get_dist_from_mouse = (\n mouse_pos: [number, number],\n x: number,\n y: number,\n): number => {\n\n // -- Calculate the distance\n const dist = Math.sqrt(\n Math.pow(mouse_pos[0] - x, 2) + \n Math.pow(mouse_pos[1] - y, 2)\n );\n\n // -- Return the distance\n return dist;\n}\n\n\n\n/**\n * @name push_dot\n * @description pushes a dot away from the mouse, sortof like\n * a circular repulsion\n * @param {[number, number]} mouse_pos the mouse position\n * @param {number} x the x coordinate of the dot\n * @param {number} y the y coordinate of the dot\n * @param {number} dist the distance from the mouse to the dot\n * @param {number} max_dist the maximum distance to push the dot away (if the distance is greater than this, then the dot will not be pushed)\n * @param {number} [force=1] the force to push the dot away with\n * @returns {[number, number]} the new x and y coordinates of the dot\n */\nexport const push_dot = (\n mouse_pos: [number, number],\n x: number,\n y: number,\n dist: number,\n max_dist: number = 100,\n force: number = 1\n): [number, number] => {\n\n // -- If the distance is greater than the max distance, then return the original coordinates\n if (dist > max_dist) return [x, y];\n\n // -- Calculate the angle\n const angle = Math.atan2(mouse_pos[1] - y, mouse_pos[0] - x);\n\n // -- How much force to apply (the closer the mouse is, the more force to apply)\n force = force * (1 - (dist / max_dist));\n\n // -- Calculate the new x and y coordinates\n const new_x = x - (Math.cos(angle) * force),\n new_y = y - (Math.sin(angle) * force);\n\n // -- Return the new coordinates\n return [new_x, new_y];\n}","/**\n * lil-gui\n * https://lil-gui.georgealways.com\n * @version 0.18.2\n * @author George Michael Brower\n * @license MIT\n */\n\n/**\n * Base class for all controllers.\n */\nclass Controller {\n\n\tconstructor( parent, object, property, className, widgetTag = 'div' ) {\n\n\t\t/**\n\t\t * The GUI that contains this controller.\n\t\t * @type {GUI}\n\t\t */\n\t\tthis.parent = parent;\n\n\t\t/**\n\t\t * The object this controller will modify.\n\t\t * @type {object}\n\t\t */\n\t\tthis.object = object;\n\n\t\t/**\n\t\t * The name of the property to control.\n\t\t * @type {string}\n\t\t */\n\t\tthis.property = property;\n\n\t\t/**\n\t\t * Used to determine if the controller is disabled.\n\t\t * Use `controller.disable( true|false )` to modify this value\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._disabled = false;\n\n\t\t/**\n\t\t * Used to determine if the Controller is hidden.\n\t\t * Use `controller.show()` or `controller.hide()` to change this.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._hidden = false;\n\n\t\t/**\n\t\t * The value of `object[ property ]` when the controller was created.\n\t\t * @type {any}\n\t\t */\n\t\tthis.initialValue = this.getValue();\n\n\t\t/**\n\t\t * The outermost container DOM element for this controller.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.domElement = document.createElement( 'div' );\n\t\tthis.domElement.classList.add( 'controller' );\n\t\tthis.domElement.classList.add( className );\n\n\t\t/**\n\t\t * The DOM element that contains the controller's name.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$name = document.createElement( 'div' );\n\t\tthis.$name.classList.add( 'name' );\n\n\t\tController.nextNameID = Controller.nextNameID || 0;\n\t\tthis.$name.id = `lil-gui-name-${++Controller.nextNameID}`;\n\n\t\t/**\n\t\t * The DOM element that contains the controller's \"widget\" (which differs by controller type).\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$widget = document.createElement( widgetTag );\n\t\tthis.$widget.classList.add( 'widget' );\n\n\t\t/**\n\t\t * The DOM element that receives the disabled attribute when using disable()\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$disable = this.$widget;\n\n\t\tthis.domElement.appendChild( this.$name );\n\t\tthis.domElement.appendChild( this.$widget );\n\n\t\t// Don't fire global key events while typing in a controller\n\t\tthis.domElement.addEventListener( 'keydown', e => e.stopPropagation() );\n\t\tthis.domElement.addEventListener( 'keyup', e => e.stopPropagation() );\n\n\t\tthis.parent.children.push( this );\n\t\tthis.parent.controllers.push( this );\n\n\t\tthis.parent.$children.appendChild( this.domElement );\n\n\t\tthis._listenCallback = this._listenCallback.bind( this );\n\n\t\tthis.name( property );\n\n\t}\n\n\t/**\n\t * Sets the name of the controller and its label in the GUI.\n\t * @param {string} name\n\t * @returns {this}\n\t */\n\tname( name ) {\n\t\t/**\n\t\t * The controller's name. Use `controller.name( 'Name' )` to modify this value.\n\t\t * @type {string}\n\t\t */\n\t\tthis._name = name;\n\t\tthis.$name.innerHTML = name;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Pass a function to be called whenever the value is modified by this controller.\n\t * The function receives the new value as its first parameter. The value of `this` will be the\n\t * controller.\n\t *\n\t * For function controllers, the `onChange` callback will be fired on click, after the function\n\t * executes.\n\t * @param {Function} callback\n\t * @returns {this}\n\t * @example\n\t * const controller = gui.add( object, 'property' );\n\t *\n\t * controller.onChange( function( v ) {\n\t * \tconsole.log( 'The value is now ' + v );\n\t * \tconsole.assert( this === controller );\n\t * } );\n\t */\n\tonChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onChange` events. Don't modify this value directly.\n\t\t * Use the `controller.onChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onChange = callback;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Calls the onChange methods of this controller and its parent GUI.\n\t * @protected\n\t */\n\t_callOnChange() {\n\n\t\tthis.parent._callOnChange( this );\n\n\t\tif ( this._onChange !== undefined ) {\n\t\t\tthis._onChange.call( this, this.getValue() );\n\t\t}\n\n\t\tthis._changed = true;\n\n\t}\n\n\t/**\n\t * Pass a function to be called after this controller has been modified and loses focus.\n\t * @param {Function} callback\n\t * @returns {this}\n\t * @example\n\t * const controller = gui.add( object, 'property' );\n\t *\n\t * controller.onFinishChange( function( v ) {\n\t * \tconsole.log( 'Changes complete: ' + v );\n\t * \tconsole.assert( this === controller );\n\t * } );\n\t */\n\tonFinishChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onFinishChange` events. Don't modify this value\n\t\t * directly. Use the `controller.onFinishChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onFinishChange = callback;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Should be called by Controller when its widgets lose focus.\n\t * @protected\n\t */\n\t_callOnFinishChange() {\n\n\t\tif ( this._changed ) {\n\n\t\t\tthis.parent._callOnFinishChange( this );\n\n\t\t\tif ( this._onFinishChange !== undefined ) {\n\t\t\t\tthis._onFinishChange.call( this, this.getValue() );\n\t\t\t}\n\n\t\t}\n\n\t\tthis._changed = false;\n\n\t}\n\n\t/**\n\t * Sets the controller back to its initial value.\n\t * @returns {this}\n\t */\n\treset() {\n\t\tthis.setValue( this.initialValue );\n\t\tthis._callOnFinishChange();\n\t\treturn this;\n\t}\n\n\t/**\n\t * Enables this controller.\n\t * @param {boolean} enabled\n\t * @returns {this}\n\t * @example\n\t * controller.enable();\n\t * controller.enable( false ); // disable\n\t * controller.enable( controller._disabled ); // toggle\n\t */\n\tenable( enabled = true ) {\n\t\treturn this.disable( !enabled );\n\t}\n\n\t/**\n\t * Disables this controller.\n\t * @param {boolean} disabled\n\t * @returns {this}\n\t * @example\n\t * controller.disable();\n\t * controller.disable( false ); // enable\n\t * controller.disable( !controller._disabled ); // toggle\n\t */\n\tdisable( disabled = true ) {\n\n\t\tif ( disabled === this._disabled ) return this;\n\n\t\tthis._disabled = disabled;\n\n\t\tthis.domElement.classList.toggle( 'disabled', disabled );\n\t\tthis.$disable.toggleAttribute( 'disabled', disabled );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Shows the Controller after it's been hidden.\n\t * @param {boolean} show\n\t * @returns {this}\n\t * @example\n\t * controller.show();\n\t * controller.show( false ); // hide\n\t * controller.show( controller._hidden ); // toggle\n\t */\n\tshow( show = true ) {\n\n\t\tthis._hidden = !show;\n\n\t\tthis.domElement.style.display = this._hidden ? 'none' : '';\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Hides the Controller.\n\t * @returns {this}\n\t */\n\thide() {\n\t\treturn this.show( false );\n\t}\n\n\t/**\n\t * Destroys this controller and replaces it with a new option controller. Provided as a more\n\t * descriptive syntax for `gui.add`, but primarily for compatibility with dat.gui.\n\t *\n\t * Use caution, as this method will destroy old references to this controller. It will also\n\t * change controller order if called out of sequence, moving the option controller to the end of\n\t * the GUI.\n\t * @example\n\t * // safe usage\n\t *\n\t * gui.add( object1, 'property' ).options( [ 'a', 'b', 'c' ] );\n\t * gui.add( object2, 'property' );\n\t *\n\t * // danger\n\t *\n\t * const c = gui.add( object1, 'property' );\n\t * gui.add( object2, 'property' );\n\t *\n\t * c.options( [ 'a', 'b', 'c' ] );\n\t * // controller is now at the end of the GUI even though it was added first\n\t *\n\t * assert( c.parent.children.indexOf( c ) === -1 )\n\t * // c references a controller that no longer exists\n\t *\n\t * @param {object|Array} options\n\t * @returns {Controller}\n\t */\n\toptions( options ) {\n\t\tconst controller = this.parent.add( this.object, this.property, options );\n\t\tcontroller.name( this._name );\n\t\tthis.destroy();\n\t\treturn controller;\n\t}\n\n\t/**\n\t * Sets the minimum value. Only works on number controllers.\n\t * @param {number} min\n\t * @returns {this}\n\t */\n\tmin( min ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the maximum value. Only works on number controllers.\n\t * @param {number} max\n\t * @returns {this}\n\t */\n\tmax( max ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Values set by this controller will be rounded to multiples of `step`. Only works on number\n\t * controllers.\n\t * @param {number} step\n\t * @returns {this}\n\t */\n\tstep( step ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Rounds the displayed value to a fixed number of decimals, without affecting the actual value\n\t * like `step()`. Only works on number controllers.\n\t * @example\n\t * gui.add( object, 'property' ).listen().decimals( 4 );\n\t * @param {number} decimals\n\t * @returns {this}\n\t */\n\tdecimals( decimals ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Calls `updateDisplay()` every animation frame. Pass `false` to stop listening.\n\t * @param {boolean} listen\n\t * @returns {this}\n\t */\n\tlisten( listen = true ) {\n\n\t\t/**\n\t\t * Used to determine if the controller is currently listening. Don't modify this value\n\t\t * directly. Use the `controller.listen( true|false )` method instead.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._listening = listen;\n\n\t\tif ( this._listenCallbackID !== undefined ) {\n\t\t\tcancelAnimationFrame( this._listenCallbackID );\n\t\t\tthis._listenCallbackID = undefined;\n\t\t}\n\n\t\tif ( this._listening ) {\n\t\t\tthis._listenCallback();\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t_listenCallback() {\n\n\t\tthis._listenCallbackID = requestAnimationFrame( this._listenCallback );\n\n\t\t// To prevent framerate loss, make sure the value has changed before updating the display.\n\t\t// Note: save() is used here instead of getValue() only because of ColorController. The !== operator\n\t\t// won't work for color objects or arrays, but ColorController.save() always returns a string.\n\n\t\tconst curValue = this.save();\n\n\t\tif ( curValue !== this._listenPrevValue ) {\n\t\t\tthis.updateDisplay();\n\t\t}\n\n\t\tthis._listenPrevValue = curValue;\n\n\t}\n\n\t/**\n\t * Returns `object[ property ]`.\n\t * @returns {any}\n\t */\n\tgetValue() {\n\t\treturn this.object[ this.property ];\n\t}\n\n\t/**\n\t * Sets the value of `object[ property ]`, invokes any `onChange` handlers and updates the display.\n\t * @param {any} value\n\t * @returns {this}\n\t */\n\tsetValue( value ) {\n\t\tthis.object[ this.property ] = value;\n\t\tthis._callOnChange();\n\t\tthis.updateDisplay();\n\t\treturn this;\n\t}\n\n\t/**\n\t * Updates the display to keep it in sync with the current value. Useful for updating your\n\t * controllers when their values have been modified outside of the GUI.\n\t * @returns {this}\n\t */\n\tupdateDisplay() {\n\t\treturn this;\n\t}\n\n\tload( value ) {\n\t\tthis.setValue( value );\n\t\tthis._callOnFinishChange();\n\t\treturn this;\n\t}\n\n\tsave() {\n\t\treturn this.getValue();\n\t}\n\n\t/**\n\t * Destroys this controller and removes it from the parent GUI.\n\t */\n\tdestroy() {\n\t\tthis.listen( false );\n\t\tthis.parent.children.splice( this.parent.children.indexOf( this ), 1 );\n\t\tthis.parent.controllers.splice( this.parent.controllers.indexOf( this ), 1 );\n\t\tthis.parent.$children.removeChild( this.domElement );\n\t}\n\n}\n\nclass BooleanController extends Controller {\n\n\tconstructor( parent, object, property ) {\n\n\t\tsuper( parent, object, property, 'boolean', 'label' );\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'checkbox' );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$widget.appendChild( this.$input );\n\n\t\tthis.$input.addEventListener( 'change', () => {\n\t\t\tthis.setValue( this.$input.checked );\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$disable = this.$input;\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tupdateDisplay() {\n\t\tthis.$input.checked = this.getValue();\n\t\treturn this;\n\t}\n\n}\n\nfunction normalizeColorString( string ) {\n\n\tlet match, result;\n\n\tif ( match = string.match( /(#|0x)?([a-f0-9]{6})/i ) ) {\n\n\t\tresult = match[ 2 ];\n\n\t} else if ( match = string.match( /rgb\\(\\s*(\\d*)\\s*,\\s*(\\d*)\\s*,\\s*(\\d*)\\s*\\)/ ) ) {\n\n\t\tresult = parseInt( match[ 1 ] ).toString( 16 ).padStart( 2, 0 )\n\t\t\t+ parseInt( match[ 2 ] ).toString( 16 ).padStart( 2, 0 )\n\t\t\t+ parseInt( match[ 3 ] ).toString( 16 ).padStart( 2, 0 );\n\n\t} else if ( match = string.match( /^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i ) ) {\n\n\t\tresult = match[ 1 ] + match[ 1 ] + match[ 2 ] + match[ 2 ] + match[ 3 ] + match[ 3 ];\n\n\t}\n\n\tif ( result ) {\n\t\treturn '#' + result;\n\t}\n\n\treturn false;\n\n}\n\nconst STRING = {\n\tisPrimitive: true,\n\tmatch: v => typeof v === 'string',\n\tfromHexString: normalizeColorString,\n\ttoHexString: normalizeColorString\n};\n\nconst INT = {\n\tisPrimitive: true,\n\tmatch: v => typeof v === 'number',\n\tfromHexString: string => parseInt( string.substring( 1 ), 16 ),\n\ttoHexString: value => '#' + value.toString( 16 ).padStart( 6, 0 )\n};\n\nconst ARRAY = {\n\tisPrimitive: false,\n\n\t// The arrow function is here to appease tree shakers like esbuild or webpack.\n\t// See https://esbuild.github.io/api/#tree-shaking\n\tmatch: v => Array.isArray( v ),\n\n\tfromHexString( string, target, rgbScale = 1 ) {\n\n\t\tconst int = INT.fromHexString( string );\n\n\t\ttarget[ 0 ] = ( int >> 16 & 255 ) / 255 * rgbScale;\n\t\ttarget[ 1 ] = ( int >> 8 & 255 ) / 255 * rgbScale;\n\t\ttarget[ 2 ] = ( int & 255 ) / 255 * rgbScale;\n\n\t},\n\ttoHexString( [ r, g, b ], rgbScale = 1 ) {\n\n\t\trgbScale = 255 / rgbScale;\n\n\t\tconst int = ( r * rgbScale ) << 16 ^\n\t\t\t( g * rgbScale ) << 8 ^\n\t\t\t( b * rgbScale ) << 0;\n\n\t\treturn INT.toHexString( int );\n\n\t}\n};\n\nconst OBJECT = {\n\tisPrimitive: false,\n\tmatch: v => Object( v ) === v,\n\tfromHexString( string, target, rgbScale = 1 ) {\n\n\t\tconst int = INT.fromHexString( string );\n\n\t\ttarget.r = ( int >> 16 & 255 ) / 255 * rgbScale;\n\t\ttarget.g = ( int >> 8 & 255 ) / 255 * rgbScale;\n\t\ttarget.b = ( int & 255 ) / 255 * rgbScale;\n\n\t},\n\ttoHexString( { r, g, b }, rgbScale = 1 ) {\n\n\t\trgbScale = 255 / rgbScale;\n\n\t\tconst int = ( r * rgbScale ) << 16 ^\n\t\t\t( g * rgbScale ) << 8 ^\n\t\t\t( b * rgbScale ) << 0;\n\n\t\treturn INT.toHexString( int );\n\n\t}\n};\n\nconst FORMATS = [ STRING, INT, ARRAY, OBJECT ];\n\nfunction getColorFormat( value ) {\n\treturn FORMATS.find( format => format.match( value ) );\n}\n\nclass ColorController extends Controller {\n\n\tconstructor( parent, object, property, rgbScale ) {\n\n\t\tsuper( parent, object, property, 'color' );\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'color' );\n\t\tthis.$input.setAttribute( 'tabindex', -1 );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$text = document.createElement( 'input' );\n\t\tthis.$text.setAttribute( 'type', 'text' );\n\t\tthis.$text.setAttribute( 'spellcheck', 'false' );\n\t\tthis.$text.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$display = document.createElement( 'div' );\n\t\tthis.$display.classList.add( 'display' );\n\n\t\tthis.$display.appendChild( this.$input );\n\t\tthis.$widget.appendChild( this.$display );\n\t\tthis.$widget.appendChild( this.$text );\n\n\t\tthis._format = getColorFormat( this.initialValue );\n\t\tthis._rgbScale = rgbScale;\n\n\t\tthis._initialValueHexString = this.save();\n\t\tthis._textFocused = false;\n\n\t\tthis.$input.addEventListener( 'input', () => {\n\t\t\tthis._setValueFromHexString( this.$input.value );\n\t\t} );\n\n\t\tthis.$input.addEventListener( 'blur', () => {\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$text.addEventListener( 'input', () => {\n\t\t\tconst tryParse = normalizeColorString( this.$text.value );\n\t\t\tif ( tryParse ) {\n\t\t\t\tthis._setValueFromHexString( tryParse );\n\t\t\t}\n\t\t} );\n\n\t\tthis.$text.addEventListener( 'focus', () => {\n\t\t\tthis._textFocused = true;\n\t\t\tthis.$text.select();\n\t\t} );\n\n\t\tthis.$text.addEventListener( 'blur', () => {\n\t\t\tthis._textFocused = false;\n\t\t\tthis.updateDisplay();\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$disable = this.$text;\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\treset() {\n\t\tthis._setValueFromHexString( this._initialValueHexString );\n\t\treturn this;\n\t}\n\n\t_setValueFromHexString( value ) {\n\n\t\tif ( this._format.isPrimitive ) {\n\n\t\t\tconst newValue = this._format.fromHexString( value );\n\t\t\tthis.setValue( newValue );\n\n\t\t} else {\n\n\t\t\tthis._format.fromHexString( value, this.getValue(), this._rgbScale );\n\t\t\tthis._callOnChange();\n\t\t\tthis.updateDisplay();\n\n\t\t}\n\n\t}\n\n\tsave() {\n\t\treturn this._format.toHexString( this.getValue(), this._rgbScale );\n\t}\n\n\tload( value ) {\n\t\tthis._setValueFromHexString( value );\n\t\tthis._callOnFinishChange();\n\t\treturn this;\n\t}\n\n\tupdateDisplay() {\n\t\tthis.$input.value = this._format.toHexString( this.getValue(), this._rgbScale );\n\t\tif ( !this._textFocused ) {\n\t\t\tthis.$text.value = this.$input.value.substring( 1 );\n\t\t}\n\t\tthis.$display.style.backgroundColor = this.$input.value;\n\t\treturn this;\n\t}\n\n}\n\nclass FunctionController extends Controller {\n\n\tconstructor( parent, object, property ) {\n\n\t\tsuper( parent, object, property, 'function' );\n\n\t\t// Buttons are the only case where widget contains name\n\t\tthis.$button = document.createElement( 'button' );\n\t\tthis.$button.appendChild( this.$name );\n\t\tthis.$widget.appendChild( this.$button );\n\n\t\tthis.$button.addEventListener( 'click', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.getValue().call( this.object );\n\t\t\tthis._callOnChange();\n\t\t} );\n\n\t\t// enables :active pseudo class on mobile\n\t\tthis.$button.addEventListener( 'touchstart', () => {}, { passive: true } );\n\n\t\tthis.$disable = this.$button;\n\n\t}\n\n}\n\nclass NumberController extends Controller {\n\n\tconstructor( parent, object, property, min, max, step ) {\n\n\t\tsuper( parent, object, property, 'number' );\n\n\t\tthis._initInput();\n\n\t\tthis.min( min );\n\t\tthis.max( max );\n\n\t\tconst stepExplicit = step !== undefined;\n\t\tthis.step( stepExplicit ? step : this._getImplicitStep(), stepExplicit );\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tdecimals( decimals ) {\n\t\tthis._decimals = decimals;\n\t\tthis.updateDisplay();\n\t\treturn this;\n\t}\n\n\tmin( min ) {\n\t\tthis._min = min;\n\t\tthis._onUpdateMinMax();\n\t\treturn this;\n\t}\n\n\tmax( max ) {\n\t\tthis._max = max;\n\t\tthis._onUpdateMinMax();\n\t\treturn this;\n\t}\n\n\tstep( step, explicit = true ) {\n\t\tthis._step = step;\n\t\tthis._stepExplicit = explicit;\n\t\treturn this;\n\t}\n\n\tupdateDisplay() {\n\n\t\tconst value = this.getValue();\n\n\t\tif ( this._hasSlider ) {\n\n\t\t\tlet percent = ( value - this._min ) / ( this._max - this._min );\n\t\t\tpercent = Math.max( 0, Math.min( percent, 1 ) );\n\n\t\t\tthis.$fill.style.width = percent * 100 + '%';\n\n\t\t}\n\n\t\tif ( !this._inputFocused ) {\n\t\t\tthis.$input.value = this._decimals === undefined ? value : value.toFixed( this._decimals );\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t_initInput() {\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'text' );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\t// On touch devices only, use input[type=number] to force a numeric keyboard.\n\t\t// Ideally we could use one input type everywhere, but [type=number] has quirks\n\t\t// on desktop, and [inputmode=decimal] has quirks on iOS.\n\t\t// See https://github.com/georgealways/lil-gui/pull/16\n\n\t\tconst isTouch = window.matchMedia( '(pointer: coarse)' ).matches;\n\n\t\tif ( isTouch ) {\n\t\t\tthis.$input.setAttribute( 'type', 'number' );\n\t\t\tthis.$input.setAttribute( 'step', 'any' );\n\t\t}\n\n\t\tthis.$widget.appendChild( this.$input );\n\n\t\tthis.$disable = this.$input;\n\n\t\tconst onInput = () => {\n\n\t\t\tlet value = parseFloat( this.$input.value );\n\n\t\t\tif ( isNaN( value ) ) return;\n\n\t\t\tif ( this._stepExplicit ) {\n\t\t\t\tvalue = this._snap( value );\n\t\t\t}\n\n\t\t\tthis.setValue( this._clamp( value ) );\n\n\t\t};\n\n\t\t// Keys & mouse wheel\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst increment = delta => {\n\n\t\t\tconst value = parseFloat( this.$input.value );\n\n\t\t\tif ( isNaN( value ) ) return;\n\n\t\t\tthis._snapClampSetValue( value + delta );\n\n\t\t\t// Force the input to updateDisplay when it's focused\n\t\t\tthis.$input.value = this.getValue();\n\n\t\t};\n\n\t\tconst onKeyDown = e => {\n\t\t\t// Using `e.key` instead of `e.code` also catches NumpadEnter\n\t\t\tif ( e.key === 'Enter' ) {\n\t\t\t\tthis.$input.blur();\n\t\t\t}\n\t\t\tif ( e.code === 'ArrowUp' ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tincrement( this._step * this._arrowKeyMultiplier( e ) );\n\t\t\t}\n\t\t\tif ( e.code === 'ArrowDown' ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tincrement( this._step * this._arrowKeyMultiplier( e ) * -1 );\n\t\t\t}\n\t\t};\n\n\t\tconst onWheel = e => {\n\t\t\tif ( this._inputFocused ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tincrement( this._step * this._normalizeMouseWheel( e ) );\n\t\t\t}\n\t\t};\n\n\t\t// Vertical drag\n\t\t// ---------------------------------------------------------------------\n\n\t\tlet testingForVerticalDrag = false,\n\t\t\tinitClientX,\n\t\t\tinitClientY,\n\t\t\tprevClientY,\n\t\t\tinitValue,\n\t\t\tdragDelta;\n\n\t\t// Once the mouse is dragged more than DRAG_THRESH px on any axis, we decide\n\t\t// on the user's intent: horizontal means highlight, vertical means drag.\n\t\tconst DRAG_THRESH = 5;\n\n\t\tconst onMouseDown = e => {\n\n\t\t\tinitClientX = e.clientX;\n\t\t\tinitClientY = prevClientY = e.clientY;\n\t\t\ttestingForVerticalDrag = true;\n\n\t\t\tinitValue = this.getValue();\n\t\t\tdragDelta = 0;\n\n\t\t\twindow.addEventListener( 'mousemove', onMouseMove );\n\t\t\twindow.addEventListener( 'mouseup', onMouseUp );\n\n\t\t};\n\n\t\tconst onMouseMove = e => {\n\n\t\t\tif ( testingForVerticalDrag ) {\n\n\t\t\t\tconst dx = e.clientX - initClientX;\n\t\t\t\tconst dy = e.clientY - initClientY;\n\n\t\t\t\tif ( Math.abs( dy ) > DRAG_THRESH ) {\n\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.$input.blur();\n\t\t\t\t\ttestingForVerticalDrag = false;\n\t\t\t\t\tthis._setDraggingStyle( true, 'vertical' );\n\n\t\t\t\t} else if ( Math.abs( dx ) > DRAG_THRESH ) {\n\n\t\t\t\t\tonMouseUp();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// This isn't an else so that the first move counts towards dragDelta\n\t\t\tif ( !testingForVerticalDrag ) {\n\n\t\t\t\tconst dy = e.clientY - prevClientY;\n\n\t\t\t\tdragDelta -= dy * this._step * this._arrowKeyMultiplier( e );\n\n\t\t\t\t// Clamp dragDelta so we don't have 'dead space' after dragging past bounds.\n\t\t\t\t// We're okay with the fact that bounds can be undefined here.\n\t\t\t\tif ( initValue + dragDelta > this._max ) {\n\t\t\t\t\tdragDelta = this._max - initValue;\n\t\t\t\t} else if ( initValue + dragDelta < this._min ) {\n\t\t\t\t\tdragDelta = this._min - initValue;\n\t\t\t\t}\n\n\t\t\t\tthis._snapClampSetValue( initValue + dragDelta );\n\n\t\t\t}\n\n\t\t\tprevClientY = e.clientY;\n\n\t\t};\n\n\t\tconst onMouseUp = () => {\n\t\t\tthis._setDraggingStyle( false, 'vertical' );\n\t\t\tthis._callOnFinishChange();\n\t\t\twindow.removeEventListener( 'mousemove', onMouseMove );\n\t\t\twindow.removeEventListener( 'mouseup', onMouseUp );\n\t\t};\n\n\t\t// Focus state & onFinishChange\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst onFocus = () => {\n\t\t\tthis._inputFocused = true;\n\t\t};\n\n\t\tconst onBlur = () => {\n\t\t\tthis._inputFocused = false;\n\t\t\tthis.updateDisplay();\n\t\t\tthis._callOnFinishChange();\n\t\t};\n\n\t\tthis.$input.addEventListener( 'input', onInput );\n\t\tthis.$input.addEventListener( 'keydown', onKeyDown );\n\t\tthis.$input.addEventListener( 'wheel', onWheel, { passive: false } );\n\t\tthis.$input.addEventListener( 'mousedown', onMouseDown );\n\t\tthis.$input.addEventListener( 'focus', onFocus );\n\t\tthis.$input.addEventListener( 'blur', onBlur );\n\n\t}\n\n\t_initSlider() {\n\n\t\tthis._hasSlider = true;\n\n\t\t// Build DOM\n\t\t// ---------------------------------------------------------------------\n\n\t\tthis.$slider = document.createElement( 'div' );\n\t\tthis.$slider.classList.add( 'slider' );\n\n\t\tthis.$fill = document.createElement( 'div' );\n\t\tthis.$fill.classList.add( 'fill' );\n\n\t\tthis.$slider.appendChild( this.$fill );\n\t\tthis.$widget.insertBefore( this.$slider, this.$input );\n\n\t\tthis.domElement.classList.add( 'hasSlider' );\n\n\t\t// Map clientX to value\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst map = ( v, a, b, c, d ) => {\n\t\t\treturn ( v - a ) / ( b - a ) * ( d - c ) + c;\n\t\t};\n\n\t\tconst setValueFromX = clientX => {\n\t\t\tconst rect = this.$slider.getBoundingClientRect();\n\t\t\tlet value = map( clientX, rect.left, rect.right, this._min, this._max );\n\t\t\tthis._snapClampSetValue( value );\n\t\t};\n\n\t\t// Mouse drag\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst mouseDown = e => {\n\t\t\tthis._setDraggingStyle( true );\n\t\t\tsetValueFromX( e.clientX );\n\t\t\twindow.addEventListener( 'mousemove', mouseMove );\n\t\t\twindow.addEventListener( 'mouseup', mouseUp );\n\t\t};\n\n\t\tconst mouseMove = e => {\n\t\t\tsetValueFromX( e.clientX );\n\t\t};\n\n\t\tconst mouseUp = () => {\n\t\t\tthis._callOnFinishChange();\n\t\t\tthis._setDraggingStyle( false );\n\t\t\twindow.removeEventListener( 'mousemove', mouseMove );\n\t\t\twindow.removeEventListener( 'mouseup', mouseUp );\n\t\t};\n\n\t\t// Touch drag\n\t\t// ---------------------------------------------------------------------\n\n\t\tlet testingForScroll = false, prevClientX, prevClientY;\n\n\t\tconst beginTouchDrag = e => {\n\t\t\te.preventDefault();\n\t\t\tthis._setDraggingStyle( true );\n\t\t\tsetValueFromX( e.touches[ 0 ].clientX );\n\t\t\ttestingForScroll = false;\n\t\t};\n\n\t\tconst onTouchStart = e => {\n\n\t\t\tif ( e.touches.length > 1 ) return;\n\n\t\t\t// If we're in a scrollable container, we should wait for the first\n\t\t\t// touchmove to see if the user is trying to slide or scroll.\n\t\t\tif ( this._hasScrollBar ) {\n\n\t\t\t\tprevClientX = e.touches[ 0 ].clientX;\n\t\t\t\tprevClientY = e.touches[ 0 ].clientY;\n\t\t\t\ttestingForScroll = true;\n\n\t\t\t} else {\n\n\t\t\t\t// Otherwise, we can set the value straight away on touchstart.\n\t\t\t\tbeginTouchDrag( e );\n\n\t\t\t}\n\n\t\t\twindow.addEventListener( 'touchmove', onTouchMove, { passive: false } );\n\t\t\twindow.addEventListener( 'touchend', onTouchEnd );\n\n\t\t};\n\n\t\tconst onTouchMove = e => {\n\n\t\t\tif ( testingForScroll ) {\n\n\t\t\t\tconst dx = e.touches[ 0 ].clientX - prevClientX;\n\t\t\t\tconst dy = e.touches[ 0 ].clientY - prevClientY;\n\n\t\t\t\tif ( Math.abs( dx ) > Math.abs( dy ) ) {\n\n\t\t\t\t\t// We moved horizontally, set the value and stop checking.\n\t\t\t\t\tbeginTouchDrag( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// This was, in fact, an attempt to scroll. Abort.\n\t\t\t\t\twindow.removeEventListener( 'touchmove', onTouchMove );\n\t\t\t\t\twindow.removeEventListener( 'touchend', onTouchEnd );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\te.preventDefault();\n\t\t\t\tsetValueFromX( e.touches[ 0 ].clientX );\n\n\t\t\t}\n\n\t\t};\n\n\t\tconst onTouchEnd = () => {\n\t\t\tthis._callOnFinishChange();\n\t\t\tthis._setDraggingStyle( false );\n\t\t\twindow.removeEventListener( 'touchmove', onTouchMove );\n\t\t\twindow.removeEventListener( 'touchend', onTouchEnd );\n\t\t};\n\n\t\t// Mouse wheel\n\t\t// ---------------------------------------------------------------------\n\n\t\t// We have to use a debounced function to call onFinishChange because\n\t\t// there's no way to tell when the user is \"done\" mouse-wheeling.\n\t\tconst callOnFinishChange = this._callOnFinishChange.bind( this );\n\t\tconst WHEEL_DEBOUNCE_TIME = 400;\n\t\tlet wheelFinishChangeTimeout;\n\n\t\tconst onWheel = e => {\n\n\t\t\t// ignore vertical wheels if there's a scrollbar\n\t\t\tconst isVertical = Math.abs( e.deltaX ) < Math.abs( e.deltaY );\n\t\t\tif ( isVertical && this._hasScrollBar ) return;\n\n\t\t\te.preventDefault();\n\n\t\t\t// set value\n\t\t\tconst delta = this._normalizeMouseWheel( e ) * this._step;\n\t\t\tthis._snapClampSetValue( this.getValue() + delta );\n\n\t\t\t// force the input to updateDisplay when it's focused\n\t\t\tthis.$input.value = this.getValue();\n\n\t\t\t// debounce onFinishChange\n\t\t\tclearTimeout( wheelFinishChangeTimeout );\n\t\t\twheelFinishChangeTimeout = setTimeout( callOnFinishChange, WHEEL_DEBOUNCE_TIME );\n\n\t\t};\n\n\t\tthis.$slider.addEventListener( 'mousedown', mouseDown );\n\t\tthis.$slider.addEventListener( 'touchstart', onTouchStart, { passive: false } );\n\t\tthis.$slider.addEventListener( 'wheel', onWheel, { passive: false } );\n\n\t}\n\n\t_setDraggingStyle( active, axis = 'horizontal' ) {\n\t\tif ( this.$slider ) {\n\t\t\tthis.$slider.classList.toggle( 'active', active );\n\t\t}\n\t\tdocument.body.classList.toggle( 'lil-gui-dragging', active );\n\t\tdocument.body.classList.toggle( `lil-gui-${axis}`, active );\n\t}\n\n\t_getImplicitStep() {\n\n\t\tif ( this._hasMin && this._hasMax ) {\n\t\t\treturn ( this._max - this._min ) / 1000;\n\t\t}\n\n\t\treturn 0.1;\n\n\t}\n\n\t_onUpdateMinMax() {\n\n\t\tif ( !this._hasSlider && this._hasMin && this._hasMax ) {\n\n\t\t\t// If this is the first time we're hearing about min and max\n\t\t\t// and we haven't explicitly stated what our step is, let's\n\t\t\t// update that too.\n\t\t\tif ( !this._stepExplicit ) {\n\t\t\t\tthis.step( this._getImplicitStep(), false );\n\t\t\t}\n\n\t\t\tthis._initSlider();\n\t\t\tthis.updateDisplay();\n\n\t\t}\n\n\t}\n\n\t_normalizeMouseWheel( e ) {\n\n\t\tlet { deltaX, deltaY } = e;\n\n\t\t// Safari and Chrome report weird non-integral values for a notched wheel,\n\t\t// but still expose actual lines scrolled via wheelDelta. Notched wheels\n\t\t// should behave the same way as arrow keys.\n\t\tif ( Math.floor( e.deltaY ) !== e.deltaY && e.wheelDelta ) {\n\t\t\tdeltaX = 0;\n\t\t\tdeltaY = -e.wheelDelta / 120;\n\t\t\tdeltaY *= this._stepExplicit ? 1 : 10;\n\t\t}\n\n\t\tconst wheel = deltaX + -deltaY;\n\n\t\treturn wheel;\n\n\t}\n\n\t_arrowKeyMultiplier( e ) {\n\n\t\tlet mult = this._stepExplicit ? 1 : 10;\n\n\t\tif ( e.shiftKey ) {\n\t\t\tmult *= 10;\n\t\t} else if ( e.altKey ) {\n\t\t\tmult /= 10;\n\t\t}\n\n\t\treturn mult;\n\n\t}\n\n\t_snap( value ) {\n\n\t\t// This would be the logical way to do things, but floating point errors.\n\t\t// return Math.round( value / this._step ) * this._step;\n\n\t\t// Using inverse step solves a lot of them, but not all\n\t\t// const inverseStep = 1 / this._step;\n\t\t// return Math.round( value * inverseStep ) / inverseStep;\n\n\t\t// Not happy about this, but haven't seen it break.\n\t\tconst r = Math.round( value / this._step ) * this._step;\n\t\treturn parseFloat( r.toPrecision( 15 ) );\n\n\t}\n\n\t_clamp( value ) {\n\t\t// either condition is false if min or max is undefined\n\t\tif ( value < this._min ) value = this._min;\n\t\tif ( value > this._max ) value = this._max;\n\t\treturn value;\n\t}\n\n\t_snapClampSetValue( value ) {\n\t\tthis.setValue( this._clamp( this._snap( value ) ) );\n\t}\n\n\tget _hasScrollBar() {\n\t\tconst root = this.parent.root.$children;\n\t\treturn root.scrollHeight > root.clientHeight;\n\t}\n\n\tget _hasMin() {\n\t\treturn this._min !== undefined;\n\t}\n\n\tget _hasMax() {\n\t\treturn this._max !== undefined;\n\t}\n\n}\n\nclass OptionController extends Controller {\n\n\tconstructor( parent, object, property, options ) {\n\n\t\tsuper( parent, object, property, 'option' );\n\n\t\tthis.$select = document.createElement( 'select' );\n\t\tthis.$select.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$display = document.createElement( 'div' );\n\t\tthis.$display.classList.add( 'display' );\n\n\t\tthis._values = Array.isArray( options ) ? options : Object.values( options );\n\t\tthis._names = Array.isArray( options ) ? options : Object.keys( options );\n\n\t\tthis._names.forEach( name => {\n\t\t\tconst $option = document.createElement( 'option' );\n\t\t\t$option.innerHTML = name;\n\t\t\tthis.$select.appendChild( $option );\n\t\t} );\n\n\t\tthis.$select.addEventListener( 'change', () => {\n\t\t\tthis.setValue( this._values[ this.$select.selectedIndex ] );\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$select.addEventListener( 'focus', () => {\n\t\t\tthis.$display.classList.add( 'focus' );\n\t\t} );\n\n\t\tthis.$select.addEventListener( 'blur', () => {\n\t\t\tthis.$display.classList.remove( 'focus' );\n\t\t} );\n\n\t\tthis.$widget.appendChild( this.$select );\n\t\tthis.$widget.appendChild( this.$display );\n\n\t\tthis.$disable = this.$select;\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tupdateDisplay() {\n\t\tconst value = this.getValue();\n\t\tconst index = this._values.indexOf( value );\n\t\tthis.$select.selectedIndex = index;\n\t\tthis.$display.innerHTML = index === -1 ? value : this._names[ index ];\n\t\treturn this;\n\t}\n\n}\n\nclass StringController extends Controller {\n\n\tconstructor( parent, object, property ) {\n\n\t\tsuper( parent, object, property, 'string' );\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'text' );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$input.addEventListener( 'input', () => {\n\t\t\tthis.setValue( this.$input.value );\n\t\t} );\n\n\t\tthis.$input.addEventListener( 'keydown', e => {\n\t\t\tif ( e.code === 'Enter' ) {\n\t\t\t\tthis.$input.blur();\n\t\t\t}\n\t\t} );\n\n\t\tthis.$input.addEventListener( 'blur', () => {\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$widget.appendChild( this.$input );\n\n\t\tthis.$disable = this.$input;\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tupdateDisplay() {\n\t\tthis.$input.value = this.getValue();\n\t\treturn this;\n\t}\n\n}\n\nconst stylesheet = `.lil-gui {\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  line-height: 1;\n  font-weight: normal;\n  font-style: normal;\n  text-align: left;\n  background-color: var(--background-color);\n  color: var(--text-color);\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: manipulation;\n  --background-color: #1f1f1f;\n  --text-color: #ebebeb;\n  --title-background-color: #111111;\n  --title-text-color: #ebebeb;\n  --widget-color: #424242;\n  --hover-color: #4f4f4f;\n  --focus-color: #595959;\n  --number-color: #2cc9ff;\n  --string-color: #a2db3c;\n  --font-size: 11px;\n  --input-font-size: 11px;\n  --font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Arial, sans-serif;\n  --font-family-mono: Menlo, Monaco, Consolas, \"Droid Sans Mono\", monospace;\n  --padding: 4px;\n  --spacing: 4px;\n  --widget-height: 20px;\n  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);\n  --name-width: 45%;\n  --slider-knob-width: 2px;\n  --slider-input-width: 27%;\n  --color-input-width: 27%;\n  --slider-input-min-width: 45px;\n  --color-input-min-width: 45px;\n  --folder-indent: 7px;\n  --widget-padding: 0 0 0 3px;\n  --widget-border-radius: 2px;\n  --checkbox-size: calc(0.75 * var(--widget-height));\n  --scrollbar-width: 5px;\n}\n.lil-gui, .lil-gui * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n.lil-gui.root {\n  width: var(--width, 245px);\n  display: flex;\n  flex-direction: column;\n}\n.lil-gui.root > .title {\n  background: var(--title-background-color);\n  color: var(--title-text-color);\n}\n.lil-gui.root > .children {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.lil-gui.root > .children::-webkit-scrollbar {\n  width: var(--scrollbar-width);\n  height: var(--scrollbar-width);\n  background: var(--background-color);\n}\n.lil-gui.root > .children::-webkit-scrollbar-thumb {\n  border-radius: var(--scrollbar-width);\n  background: var(--focus-color);\n}\n@media (pointer: coarse) {\n  .lil-gui.allow-touch-styles, .lil-gui.allow-touch-styles .lil-gui {\n    --widget-height: 28px;\n    --padding: 6px;\n    --spacing: 6px;\n    --font-size: 13px;\n    --input-font-size: 16px;\n    --folder-indent: 10px;\n    --scrollbar-width: 7px;\n    --slider-input-min-width: 50px;\n    --color-input-min-width: 65px;\n  }\n}\n.lil-gui.force-touch-styles, .lil-gui.force-touch-styles .lil-gui {\n  --widget-height: 28px;\n  --padding: 6px;\n  --spacing: 6px;\n  --font-size: 13px;\n  --input-font-size: 16px;\n  --folder-indent: 10px;\n  --scrollbar-width: 7px;\n  --slider-input-min-width: 50px;\n  --color-input-min-width: 65px;\n}\n.lil-gui.autoPlace {\n  max-height: 100%;\n  position: fixed;\n  top: 0;\n  right: 15px;\n  z-index: 1001;\n}\n\n.lil-gui .controller {\n  display: flex;\n  align-items: center;\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n}\n.lil-gui .controller.disabled {\n  opacity: 0.5;\n}\n.lil-gui .controller.disabled, .lil-gui .controller.disabled * {\n  pointer-events: none !important;\n}\n.lil-gui .controller > .name {\n  min-width: var(--name-width);\n  flex-shrink: 0;\n  white-space: pre;\n  padding-right: var(--spacing);\n  line-height: var(--widget-height);\n}\n.lil-gui .controller .widget {\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  min-height: var(--widget-height);\n}\n.lil-gui .controller.string input {\n  color: var(--string-color);\n}\n.lil-gui .controller.boolean .widget {\n  cursor: pointer;\n}\n.lil-gui .controller.color .display {\n  width: 100%;\n  height: var(--widget-height);\n  border-radius: var(--widget-border-radius);\n  position: relative;\n}\n@media (hover: hover) {\n  .lil-gui .controller.color .display:hover:before {\n    content: \" \";\n    display: block;\n    position: absolute;\n    border-radius: var(--widget-border-radius);\n    border: 1px solid #fff9;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n}\n.lil-gui .controller.color input[type=color] {\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n}\n.lil-gui .controller.color input[type=text] {\n  margin-left: var(--spacing);\n  font-family: var(--font-family-mono);\n  min-width: var(--color-input-min-width);\n  width: var(--color-input-width);\n  flex-shrink: 0;\n}\n.lil-gui .controller.option select {\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  max-width: 100%;\n}\n.lil-gui .controller.option .display {\n  position: relative;\n  pointer-events: none;\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  line-height: var(--widget-height);\n  max-width: 100%;\n  overflow: hidden;\n  word-break: break-all;\n  padding-left: 0.55em;\n  padding-right: 1.75em;\n  background: var(--widget-color);\n}\n@media (hover: hover) {\n  .lil-gui .controller.option .display.focus {\n    background: var(--focus-color);\n  }\n}\n.lil-gui .controller.option .display.active {\n  background: var(--focus-color);\n}\n.lil-gui .controller.option .display:after {\n  font-family: \"lil-gui\";\n  content: \"\";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  padding-right: 0.375em;\n}\n.lil-gui .controller.option .widget,\n.lil-gui .controller.option select {\n  cursor: pointer;\n}\n@media (hover: hover) {\n  .lil-gui .controller.option .widget:hover .display {\n    background: var(--hover-color);\n  }\n}\n.lil-gui .controller.number input {\n  color: var(--number-color);\n}\n.lil-gui .controller.number.hasSlider input {\n  margin-left: var(--spacing);\n  width: var(--slider-input-width);\n  min-width: var(--slider-input-min-width);\n  flex-shrink: 0;\n}\n.lil-gui .controller.number .slider {\n  width: 100%;\n  height: var(--widget-height);\n  background-color: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n  padding-right: var(--slider-knob-width);\n  overflow: hidden;\n  cursor: ew-resize;\n  touch-action: pan-y;\n}\n@media (hover: hover) {\n  .lil-gui .controller.number .slider:hover {\n    background-color: var(--hover-color);\n  }\n}\n.lil-gui .controller.number .slider.active {\n  background-color: var(--focus-color);\n}\n.lil-gui .controller.number .slider.active .fill {\n  opacity: 0.95;\n}\n.lil-gui .controller.number .fill {\n  height: 100%;\n  border-right: var(--slider-knob-width) solid var(--number-color);\n  box-sizing: content-box;\n}\n\n.lil-gui-dragging .lil-gui {\n  --hover-color: var(--widget-color);\n}\n.lil-gui-dragging * {\n  cursor: ew-resize !important;\n}\n\n.lil-gui-dragging.lil-gui-vertical * {\n  cursor: ns-resize !important;\n}\n\n.lil-gui .title {\n  height: var(--title-height);\n  line-height: calc(var(--title-height) - 4px);\n  font-weight: 600;\n  padding: 0 var(--padding);\n  -webkit-tap-highlight-color: transparent;\n  cursor: pointer;\n  outline: none;\n  text-decoration-skip: objects;\n}\n.lil-gui .title:before {\n  font-family: \"lil-gui\";\n  content: \"\";\n  padding-right: 2px;\n  display: inline-block;\n}\n.lil-gui .title:active {\n  background: var(--title-background-color);\n  opacity: 0.75;\n}\n@media (hover: hover) {\n  body:not(.lil-gui-dragging) .lil-gui .title:hover {\n    background: var(--title-background-color);\n    opacity: 0.85;\n  }\n  .lil-gui .title:focus {\n    text-decoration: underline var(--focus-color);\n  }\n}\n.lil-gui.root > .title:focus {\n  text-decoration: none !important;\n}\n.lil-gui.closed > .title:before {\n  content: \"\";\n}\n.lil-gui.closed > .children {\n  transform: translateY(-7px);\n  opacity: 0;\n}\n.lil-gui.closed:not(.transition) > .children {\n  display: none;\n}\n.lil-gui.transition > .children {\n  transition-duration: 300ms;\n  transition-property: height, opacity, transform;\n  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);\n  overflow: hidden;\n  pointer-events: none;\n}\n.lil-gui .children:empty:before {\n  content: \"Empty\";\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n  display: block;\n  height: var(--widget-height);\n  font-style: italic;\n  line-height: var(--widget-height);\n  opacity: 0.5;\n}\n.lil-gui.root > .children > .lil-gui > .title {\n  border: 0 solid var(--widget-color);\n  border-width: 1px 0;\n  transition: border-color 300ms;\n}\n.lil-gui.root > .children > .lil-gui.closed > .title {\n  border-bottom-color: transparent;\n}\n.lil-gui + .controller {\n  border-top: 1px solid var(--widget-color);\n  margin-top: 0;\n  padding-top: var(--spacing);\n}\n.lil-gui .lil-gui .lil-gui > .title {\n  border: none;\n}\n.lil-gui .lil-gui .lil-gui > .children {\n  border: none;\n  margin-left: var(--folder-indent);\n  border-left: 2px solid var(--widget-color);\n}\n.lil-gui .lil-gui .controller {\n  border: none;\n}\n\n.lil-gui input {\n  -webkit-tap-highlight-color: transparent;\n  border: 0;\n  outline: none;\n  font-family: var(--font-family);\n  font-size: var(--input-font-size);\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  background: var(--widget-color);\n  color: var(--text-color);\n  width: 100%;\n}\n@media (hover: hover) {\n  .lil-gui input:hover {\n    background: var(--hover-color);\n  }\n  .lil-gui input:active {\n    background: var(--focus-color);\n  }\n}\n.lil-gui input:disabled {\n  opacity: 1;\n}\n.lil-gui input[type=text],\n.lil-gui input[type=number] {\n  padding: var(--widget-padding);\n}\n.lil-gui input[type=text]:focus,\n.lil-gui input[type=number]:focus {\n  background: var(--focus-color);\n}\n.lil-gui input::-webkit-outer-spin-button,\n.lil-gui input::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n.lil-gui input[type=number] {\n  -moz-appearance: textfield;\n}\n.lil-gui input[type=checkbox] {\n  appearance: none;\n  -webkit-appearance: none;\n  height: var(--checkbox-size);\n  width: var(--checkbox-size);\n  border-radius: var(--widget-border-radius);\n  text-align: center;\n  cursor: pointer;\n}\n.lil-gui input[type=checkbox]:checked:before {\n  font-family: \"lil-gui\";\n  content: \"\";\n  font-size: var(--checkbox-size);\n  line-height: var(--checkbox-size);\n}\n@media (hover: hover) {\n  .lil-gui input[type=checkbox]:focus {\n    box-shadow: inset 0 0 0 1px var(--focus-color);\n  }\n}\n.lil-gui button {\n  -webkit-tap-highlight-color: transparent;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  color: var(--text-color);\n  width: 100%;\n  height: var(--widget-height);\n  text-transform: none;\n  background: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n  border: 1px solid var(--widget-color);\n  text-align: center;\n  line-height: calc(var(--widget-height) - 4px);\n}\n@media (hover: hover) {\n  .lil-gui button:hover {\n    background: var(--hover-color);\n    border-color: var(--hover-color);\n  }\n  .lil-gui button:focus {\n    border-color: var(--focus-color);\n  }\n}\n.lil-gui button:active {\n  background: var(--focus-color);\n}\n\n@font-face {\n  font-family: \"lil-gui\";\n  src: url(\"data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==\") format(\"woff\");\n}`;\n\nfunction _injectStyles( cssContent ) {\n\tconst injected = document.createElement( 'style' );\n\tinjected.innerHTML = cssContent;\n\tconst before = document.querySelector( 'head link[rel=stylesheet], head style' );\n\tif ( before ) {\n\t\tdocument.head.insertBefore( injected, before );\n\t} else {\n\t\tdocument.head.appendChild( injected );\n\t}\n}\n\nlet stylesInjected = false;\n\nclass GUI {\n\n\t/**\n\t * Creates a panel that holds controllers.\n\t * @example\n\t * new GUI();\n\t * new GUI( { container: document.getElementById( 'custom' ) } );\n\t *\n\t * @param {object} [options]\n\t * @param {boolean} [options.autoPlace=true]\n\t * Adds the GUI to `document.body` and fixes it to the top right of the page.\n\t *\n\t * @param {HTMLElement} [options.container]\n\t * Adds the GUI to this DOM element. Overrides `autoPlace`.\n\t *\n\t * @param {number} [options.width=245]\n\t * Width of the GUI in pixels, usually set when name labels become too long. Note that you can make\n\t * name labels wider in CSS with `.lilgui { namewidth: 55% }`\n\t *\n\t * @param {string} [options.title=Controls]\n\t * Name to display in the title bar.\n\t *\n\t * @param {boolean} [options.closeFolders=false]\n\t * Pass `true` to close all folders in this GUI by default.\n\t *\n\t * @param {boolean} [options.injectStyles=true]\n\t * Injects the default stylesheet into the page if this is the first GUI.\n\t * Pass `false` to use your own stylesheet.\n\t *\n\t * @param {number} [options.touchStyles=true]\n\t * Makes controllers larger on touch devices. Pass `false` to disable touch styles.\n\t *\n\t * @param {GUI} [options.parent]\n\t * Adds this GUI as a child in another GUI. Usually this is done for you by `addFolder()`.\n\t *\n\t */\n\tconstructor( {\n\t\tparent,\n\t\tautoPlace = parent === undefined,\n\t\tcontainer,\n\t\twidth,\n\t\ttitle = 'Controls',\n\t\tcloseFolders = false,\n\t\tinjectStyles = true,\n\t\ttouchStyles = true\n\t} = {} ) {\n\n\t\t/**\n\t\t * The GUI containing this folder, or `undefined` if this is the root GUI.\n\t\t * @type {GUI}\n\t\t */\n\t\tthis.parent = parent;\n\n\t\t/**\n\t\t * The top level GUI containing this folder, or `this` if this is the root GUI.\n\t\t * @type {GUI}\n\t\t */\n\t\tthis.root = parent ? parent.root : this;\n\n\t\t/**\n\t\t * The list of controllers and folders contained by this GUI.\n\t\t * @type {Array<GUI|Controller>}\n\t\t */\n\t\tthis.children = [];\n\n\t\t/**\n\t\t * The list of controllers contained by this GUI.\n\t\t * @type {Array<Controller>}\n\t\t */\n\t\tthis.controllers = [];\n\n\t\t/**\n\t\t * The list of folders contained by this GUI.\n\t\t * @type {Array<GUI>}\n\t\t */\n\t\tthis.folders = [];\n\n\t\t/**\n\t\t * Used to determine if the GUI is closed. Use `gui.open()` or `gui.close()` to change this.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._closed = false;\n\n\t\t/**\n\t\t * Used to determine if the GUI is hidden. Use `gui.show()` or `gui.hide()` to change this.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._hidden = false;\n\n\t\t/**\n\t\t * The outermost container element.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.domElement = document.createElement( 'div' );\n\t\tthis.domElement.classList.add( 'lil-gui' );\n\n\t\t/**\n\t\t * The DOM element that contains the title.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$title = document.createElement( 'div' );\n\t\tthis.$title.classList.add( 'title' );\n\t\tthis.$title.setAttribute( 'role', 'button' );\n\t\tthis.$title.setAttribute( 'aria-expanded', true );\n\t\tthis.$title.setAttribute( 'tabindex', 0 );\n\n\t\tthis.$title.addEventListener( 'click', () => this.openAnimated( this._closed ) );\n\t\tthis.$title.addEventListener( 'keydown', e => {\n\t\t\tif ( e.code === 'Enter' || e.code === 'Space' ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.$title.click();\n\t\t\t}\n\t\t} );\n\n\t\t// enables :active pseudo class on mobile\n\t\tthis.$title.addEventListener( 'touchstart', () => {}, { passive: true } );\n\n\t\t/**\n\t\t * The DOM element that contains children.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$children = document.createElement( 'div' );\n\t\tthis.$children.classList.add( 'children' );\n\n\t\tthis.domElement.appendChild( this.$title );\n\t\tthis.domElement.appendChild( this.$children );\n\n\t\tthis.title( title );\n\n\t\tif ( this.parent ) {\n\n\t\t\tthis.parent.children.push( this );\n\t\t\tthis.parent.folders.push( this );\n\n\t\t\tthis.parent.$children.appendChild( this.domElement );\n\n\t\t\t// Stop the constructor early, everything onward only applies to root GUI's\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.domElement.classList.add( 'root' );\n\n\t\tif ( touchStyles ) {\n\t\t\tthis.domElement.classList.add( 'allow-touch-styles' );\n\t\t}\n\n\t\t// Inject stylesheet if we haven't done that yet\n\t\tif ( !stylesInjected && injectStyles ) {\n\t\t\t_injectStyles( stylesheet );\n\t\t\tstylesInjected = true;\n\t\t}\n\n\t\tif ( container ) {\n\n\t\t\tcontainer.appendChild( this.domElement );\n\n\t\t} else if ( autoPlace ) {\n\n\t\t\tthis.domElement.classList.add( 'autoPlace' );\n\t\t\tdocument.body.appendChild( this.domElement );\n\n\t\t}\n\n\t\tif ( width ) {\n\t\t\tthis.domElement.style.setProperty( '--width', width + 'px' );\n\t\t}\n\n\t\tthis._closeFolders = closeFolders;\n\n\t}\n\n\t/**\n\t * Adds a controller to the GUI, inferring controller type using the `typeof` operator.\n\t * @example\n\t * gui.add( object, 'property' );\n\t * gui.add( object, 'number', 0, 100, 1 );\n\t * gui.add( object, 'options', [ 1, 2, 3 ] );\n\t *\n\t * @param {object} object The object the controller will modify.\n\t * @param {string} property Name of the property to control.\n\t * @param {number|object|Array} [$1] Minimum value for number controllers, or the set of\n\t * selectable values for a dropdown.\n\t * @param {number} [max] Maximum value for number controllers.\n\t * @param {number} [step] Step value for number controllers.\n\t * @returns {Controller}\n\t */\n\tadd( object, property, $1, max, step ) {\n\n\t\tif ( Object( $1 ) === $1 ) {\n\n\t\t\treturn new OptionController( this, object, property, $1 );\n\n\t\t}\n\n\t\tconst initialValue = object[ property ];\n\n\t\tswitch ( typeof initialValue ) {\n\n\t\t\tcase 'number':\n\n\t\t\t\treturn new NumberController( this, object, property, $1, max, step );\n\n\t\t\tcase 'boolean':\n\n\t\t\t\treturn new BooleanController( this, object, property );\n\n\t\t\tcase 'string':\n\n\t\t\t\treturn new StringController( this, object, property );\n\n\t\t\tcase 'function':\n\n\t\t\t\treturn new FunctionController( this, object, property );\n\n\t\t}\n\n\t\tconsole.error( `gui.add failed\n\tproperty:`, property, `\n\tobject:`, object, `\n\tvalue:`, initialValue );\n\n\t}\n\n\t/**\n\t * Adds a color controller to the GUI.\n\t * @example\n\t * params = {\n\t * \tcssColor: '#ff00ff',\n\t * \trgbColor: { r: 0, g: 0.2, b: 0.4 },\n\t * \tcustomRange: [ 0, 127, 255 ],\n\t * };\n\t *\n\t * gui.addColor( params, 'cssColor' );\n\t * gui.addColor( params, 'rgbColor' );\n\t * gui.addColor( params, 'customRange', 255 );\n\t *\n\t * @param {object} object The object the controller will modify.\n\t * @param {string} property Name of the property to control.\n\t * @param {number} rgbScale Maximum value for a color channel when using an RGB color. You may\n\t * need to set this to 255 if your colors are too bright.\n\t * @returns {Controller}\n\t */\n\taddColor( object, property, rgbScale = 1 ) {\n\t\treturn new ColorController( this, object, property, rgbScale );\n\t}\n\n\t/**\n\t * Adds a folder to the GUI, which is just another GUI. This method returns\n\t * the nested GUI so you can add controllers to it.\n\t * @example\n\t * const folder = gui.addFolder( 'Position' );\n\t * folder.add( position, 'x' );\n\t * folder.add( position, 'y' );\n\t * folder.add( position, 'z' );\n\t *\n\t * @param {string} title Name to display in the folder's title bar.\n\t * @returns {GUI}\n\t */\n\taddFolder( title ) {\n\t\tconst folder = new GUI( { parent: this, title } );\n\t\tif ( this.root._closeFolders ) folder.close();\n\t\treturn folder;\n\t}\n\n\t/**\n\t * Recalls values that were saved with `gui.save()`.\n\t * @param {object} obj\n\t * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n\t * @returns {this}\n\t */\n\tload( obj, recursive = true ) {\n\n\t\tif ( obj.controllers ) {\n\n\t\t\tthis.controllers.forEach( c => {\n\n\t\t\t\tif ( c instanceof FunctionController ) return;\n\n\t\t\t\tif ( c._name in obj.controllers ) {\n\t\t\t\t\tc.load( obj.controllers[ c._name ] );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( recursive && obj.folders ) {\n\n\t\t\tthis.folders.forEach( f => {\n\n\t\t\t\tif ( f._title in obj.folders ) {\n\t\t\t\t\tf.load( obj.folders[ f._title ] );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Returns an object mapping controller names to values. The object can be passed to `gui.load()` to\n\t * recall these values.\n\t * @example\n\t * {\n\t * \tcontrollers: {\n\t * \t\tprop1: 1,\n\t * \t\tprop2: 'value',\n\t * \t\t...\n\t * \t},\n\t * \tfolders: {\n\t * \t\tfolderName1: { controllers, folders },\n\t * \t\tfolderName2: { controllers, folders }\n\t * \t\t...\n\t * \t}\n\t * }\n\t *\n\t * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n\t * @returns {object}\n\t */\n\tsave( recursive = true ) {\n\n\t\tconst obj = {\n\t\t\tcontrollers: {},\n\t\t\tfolders: {}\n\t\t};\n\n\t\tthis.controllers.forEach( c => {\n\n\t\t\tif ( c instanceof FunctionController ) return;\n\n\t\t\tif ( c._name in obj.controllers ) {\n\t\t\t\tthrow new Error( `Cannot save GUI with duplicate property \"${c._name}\"` );\n\t\t\t}\n\n\t\t\tobj.controllers[ c._name ] = c.save();\n\n\t\t} );\n\n\t\tif ( recursive ) {\n\n\t\t\tthis.folders.forEach( f => {\n\n\t\t\t\tif ( f._title in obj.folders ) {\n\t\t\t\t\tthrow new Error( `Cannot save GUI with duplicate folder \"${f._title}\"` );\n\t\t\t\t}\n\n\t\t\t\tobj.folders[ f._title ] = f.save();\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn obj;\n\n\t}\n\n\t/**\n\t * Opens a GUI or folder. GUI and folders are open by default.\n\t * @param {boolean} open Pass false to close\n\t * @returns {this}\n\t * @example\n\t * gui.open(); // open\n\t * gui.open( false ); // close\n\t * gui.open( gui._closed ); // toggle\n\t */\n\topen( open = true ) {\n\n\t\tthis._setClosed( !open );\n\n\t\tthis.$title.setAttribute( 'aria-expanded', !this._closed );\n\t\tthis.domElement.classList.toggle( 'closed', this._closed );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Closes the GUI.\n\t * @returns {this}\n\t */\n\tclose() {\n\t\treturn this.open( false );\n\t}\n\n\t_setClosed( closed ) {\n\t\tif ( this._closed === closed ) return;\n\t\tthis._closed = closed;\n\t\tthis._callOnOpenClose( this );\n\t}\n\n\t/**\n\t * Shows the GUI after it's been hidden.\n\t * @param {boolean} show\n\t * @returns {this}\n\t * @example\n\t * gui.show();\n\t * gui.show( false ); // hide\n\t * gui.show( gui._hidden ); // toggle\n\t */\n\tshow( show = true ) {\n\n\t\tthis._hidden = !show;\n\n\t\tthis.domElement.style.display = this._hidden ? 'none' : '';\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Hides the GUI.\n\t * @returns {this}\n\t */\n\thide() {\n\t\treturn this.show( false );\n\t}\n\n\topenAnimated( open = true ) {\n\n\t\t// set state immediately\n\t\tthis._setClosed( !open );\n\n\t\tthis.$title.setAttribute( 'aria-expanded', !this._closed );\n\n\t\t// wait for next frame to measure $children\n\t\trequestAnimationFrame( () => {\n\n\t\t\t// explicitly set initial height for transition\n\t\t\tconst initialHeight = this.$children.clientHeight;\n\t\t\tthis.$children.style.height = initialHeight + 'px';\n\n\t\t\tthis.domElement.classList.add( 'transition' );\n\n\t\t\tconst onTransitionEnd = e => {\n\t\t\t\tif ( e.target !== this.$children ) return;\n\t\t\t\tthis.$children.style.height = '';\n\t\t\t\tthis.domElement.classList.remove( 'transition' );\n\t\t\t\tthis.$children.removeEventListener( 'transitionend', onTransitionEnd );\n\t\t\t};\n\n\t\t\tthis.$children.addEventListener( 'transitionend', onTransitionEnd );\n\n\t\t\t// todo: this is wrong if children's scrollHeight makes for a gui taller than maxHeight\n\t\t\tconst targetHeight = !open ? 0 : this.$children.scrollHeight;\n\n\t\t\tthis.domElement.classList.toggle( 'closed', !open );\n\n\t\t\trequestAnimationFrame( () => {\n\t\t\t\tthis.$children.style.height = targetHeight + 'px';\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Change the title of this GUI.\n\t * @param {string} title\n\t * @returns {this}\n\t */\n\ttitle( title ) {\n\t\t/**\n\t\t * Current title of the GUI. Use `gui.title( 'Title' )` to modify this value.\n\t\t * @type {string}\n\t\t */\n\t\tthis._title = title;\n\t\tthis.$title.innerHTML = title;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Resets all controllers to their initial values.\n\t * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n\t * @returns {this}\n\t */\n\treset( recursive = true ) {\n\t\tconst controllers = recursive ? this.controllersRecursive() : this.controllers;\n\t\tcontrollers.forEach( c => c.reset() );\n\t\treturn this;\n\t}\n\n\t/**\n\t * Pass a function to be called whenever a controller in this GUI changes.\n\t * @param {function({object:object, property:string, value:any, controller:Controller})} callback\n\t * @returns {this}\n\t * @example\n\t * gui.onChange( event => {\n\t * \tevent.object     // object that was modified\n\t * \tevent.property   // string, name of property\n\t * \tevent.value      // new value of controller\n\t * \tevent.controller // controller that was modified\n\t * } );\n\t */\n\tonChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onChange` events. Don't modify this value\n\t\t * directly. Use the `gui.onChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onChange = callback;\n\t\treturn this;\n\t}\n\n\t_callOnChange( controller ) {\n\n\t\tif ( this.parent ) {\n\t\t\tthis.parent._callOnChange( controller );\n\t\t}\n\n\t\tif ( this._onChange !== undefined ) {\n\t\t\tthis._onChange.call( this, {\n\t\t\t\tobject: controller.object,\n\t\t\t\tproperty: controller.property,\n\t\t\t\tvalue: controller.getValue(),\n\t\t\t\tcontroller\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Pass a function to be called whenever a controller in this GUI has finished changing.\n\t * @param {function({object:object, property:string, value:any, controller:Controller})} callback\n\t * @returns {this}\n\t * @example\n\t * gui.onFinishChange( event => {\n\t * \tevent.object     // object that was modified\n\t * \tevent.property   // string, name of property\n\t * \tevent.value      // new value of controller\n\t * \tevent.controller // controller that was modified\n\t * } );\n\t */\n\tonFinishChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onFinishChange` events. Don't modify this value\n\t\t * directly. Use the `gui.onFinishChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onFinishChange = callback;\n\t\treturn this;\n\t}\n\n\t_callOnFinishChange( controller ) {\n\n\t\tif ( this.parent ) {\n\t\t\tthis.parent._callOnFinishChange( controller );\n\t\t}\n\n\t\tif ( this._onFinishChange !== undefined ) {\n\t\t\tthis._onFinishChange.call( this, {\n\t\t\t\tobject: controller.object,\n\t\t\t\tproperty: controller.property,\n\t\t\t\tvalue: controller.getValue(),\n\t\t\t\tcontroller\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Pass a function to be called when this GUI or its descendants are opened or closed.\n\t * @param {function(GUI)} callback\n\t * @returns {this}\n\t * @example\n\t * gui.onOpenClose( changedGUI => {\n\t * \tconsole.log( changedGUI._closed );\n\t * } );\n\t */\n\tonOpenClose( callback ) {\n\t\tthis._onOpenClose = callback;\n\t\treturn this;\n\t}\n\n\t_callOnOpenClose( changedGUI ) {\n\t\tif ( this.parent ) {\n\t\t\tthis.parent._callOnOpenClose( changedGUI );\n\t\t}\n\n\t\tif ( this._onOpenClose !== undefined ) {\n\t\t\tthis._onOpenClose.call( this, changedGUI );\n\t\t}\n\t}\n\n\t/**\n\t * Destroys all DOM elements and event listeners associated with this GUI\n\t */\n\tdestroy() {\n\n\t\tif ( this.parent ) {\n\t\t\tthis.parent.children.splice( this.parent.children.indexOf( this ), 1 );\n\t\t\tthis.parent.folders.splice( this.parent.folders.indexOf( this ), 1 );\n\t\t}\n\n\t\tif ( this.domElement.parentElement ) {\n\t\t\tthis.domElement.parentElement.removeChild( this.domElement );\n\t\t}\n\n\t\tArray.from( this.children ).forEach( c => c.destroy() );\n\n\t}\n\n\t/**\n\t * Returns an array of controllers contained by this GUI and its descendents.\n\t * @returns {Controller[]}\n\t */\n\tcontrollersRecursive() {\n\t\tlet controllers = Array.from( this.controllers );\n\t\tthis.folders.forEach( f => {\n\t\t\tcontrollers = controllers.concat( f.controllersRecursive() );\n\t\t} );\n\t\treturn controllers;\n\t}\n\n\t/**\n\t * Returns an array of folders contained by this GUI and its descendents.\n\t * @returns {GUI[]}\n\t */\n\tfoldersRecursive() {\n\t\tlet folders = Array.from( this.folders );\n\t\tthis.folders.forEach( f => {\n\t\t\tfolders = folders.concat( f.foldersRecursive() );\n\t\t} );\n\t\treturn folders;\n\t}\n\n}\n\nexport default GUI;\nexport { BooleanController, ColorController, Controller, FunctionController, GUI, NumberController, OptionController, StringController };\n","import { render_dots } from './dots';\nimport { Dots, DotsDetailed } from './index.d';\nimport { add_canvas, animate, start_draw } from './render';\nimport { generate_text_points } from './text';\nimport GUI from 'lil-gui'; \n\n// -- Attempt to get the canvas elements\nconst main_canvas = document.getElementById('main-canvas') as HTMLCanvasElement;\n\n// -- Check if the canvas elements exist\nif (!main_canvas) \n throw new Error('One ore more Canvas elements were not found');\n\n// -- Get the canvas contexts\nconst main_context = main_canvas.getContext('2d');\n\n// -- Set the canvas contexts to be the same size as the canvas\nexport const update_canvas_size = (): void => {\n main_context.canvas.width = main_canvas.offsetWidth;\n main_context.canvas.height = main_canvas.offsetHeight;\n main_context.scale(1, 1);\n};\n\n\n// -- DEV\nconst dots: Dots = {\n rows: 10,\n cols: 50,\n\n dot_size: 5,\n dot_spacing: 5,\n\n force: 50,\n force_size: 150,\n\n max_dist: 75,\n color: '#fff'\n}\n\n\n// -- Variables\nlet dots_detailed: number[][] | null = null,\n name_width: number = 0, name_height: number = 0,\n text = 'GRZEGORZ',\n frame_rate = 60,\n auto_scale = true,\n font_size = 15,\n scale = 1;\n\n// -- Add the control panel\nconst gui = new GUI({\n title: 'Dots',\n width: 300,\n});\n\nconst ctrl = {\n 'Frame Rate': frame_rate,\n 'Auto Scale': auto_scale,\n 'Font Size': font_size,\n 'Dot Size': dots.dot_size,\n 'Dot Spacing': dots.dot_spacing,\n 'Force': dots.force,\n 'Force Size': dots.force_size,\n 'Max Distance': dots.max_dist,\n 'Color': dots.color\n};\n\n// -- Add the text input\ngui.add(ctrl, 'Frame Rate', 1, 500).onChange((v) => frame_rate = v);\ngui.add(ctrl, 'Auto Scale').onChange((v) => auto_scale = v);\ngui.add(ctrl, 'Font Size', 1, 100).onChange((v) => { font_size = v; dots_detailed = null; });\ngui.add(ctrl, 'Dot Size', 1, 100).onChange((v) => dots.dot_size = v);\ngui.add(ctrl, 'Dot Spacing', 1, 100).onChange((v) => dots.dot_spacing = v);\ngui.add(ctrl, 'Force', 1, 500).onChange((v) => dots.force = v);\ngui.add(ctrl, 'Force Size', 1, 500).onChange((v) => dots.force_size = v);\ngui.add(ctrl, 'Max Distance', 1, 100).onChange((v) => dots.max_dist = v);\ngui.add(ctrl, 'Color').onChange((v) => dots.color = v);\ngui.add({ 'Text': text }, 'Text').onChange((v) => { text = v; dots_detailed = null; });\ngui.close();\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n // -- We need to wait for the dom to load before we can do anything\n // with styles as it could be that the styles are not loaded yet\n console.log('DOM Loaded');\n update_canvas_size();\n\n // -- Add the mouse events\n let mouse_event: MouseEvent = null;\n document.addEventListener('mousemove', (e) => mouse_event = e);\n\n // -- Add the canvases to the draw loop\n const mc = add_canvas(frame_rate, main_context, (ctx) => {\n if (text.length === 0) return;\n \n // -- Check if the name has been generated\n if (!dots_detailed) {\n const name = generate_text_points(text, font_size, mc);\n dots_detailed = name;\n }\n\n // -- Calculate the x and y coordinates\n name_width = dots_detailed[0].length * dots.dot_size + (dots_detailed[0].length * dots.dot_spacing),\n name_height = dots_detailed.length * dots.dot_size + (dots_detailed.length * dots.dot_spacing);\n\n // -- Center the text\n const x = (ctx.canvas.width / 2) - (name_width / 2),\n y = (ctx.canvas.height / 2) - (name_height / 2);\n\n // -- Render the dots\n render_dots(mc, {\n ...dots,\n data: dots_detailed,\n }, mouse_event, \n x, \n y\n );\n });\n\n\n const adjust_scale = () => {\n\n // -- Calc the % of the width that the text takes up\n const text_width = dots_detailed[0].length * dots.dot_size + (dots_detailed[0].length * dots.dot_spacing),\n percent = (text_width / mc.canvas.width) * 100;\n\n // -- We want the text to take up 80% of the width\n const max_percent = 80;\n\n // -- Calc the new scale\n const new_scale = (max_percent / percent) * 100;\n scale = new_scale / 100;\n\n // -- Set the scale\n // mc.ctx.scale(scale, scale);\n\n // // -- Translate the canvas to the center\n // mc.ctx.translate(\n // (mc.canvas.width / 2) - (name_width / 2),\n // (mc.canvas.height / 2) - (name_height / 2)\n // );\n };\n\n\n // -- On resize update the canvas size\n window.addEventListener('resize', () => {\n update_canvas_size();\n mc.last_frame_time = 0; // -- Keeps it from jittering\n\n // -- Calculate a new font size\n if (!auto_scale) return;\n adjust_scale();\n });\n\n\n // -- Start the animation loop\n start_draw();\n adjust_scale();\n});","import { CanvasInstance } from './index.d';\n\nexport const generate_text_points = (\n text: string, \n text_height: number,\n ci: CanvasInstance,\n) => {\n let balls = [],\n matrix = [];\n\n const width = ci.canvas.width,\n height = ci.canvas.height;\n\n\n ci.ctx.clearRect(0, 0, width, height);\n ci.ctx.font = `${text_height}px Arial`;\n ci.ctx.fillStyle = '#000';\n ci.ctx.fillText(text, 0, text_height);\n\n \n // -- get a Uint32 representation of the bitmap:\n const data32 = new Uint32Array(ci.ctx.getImageData(\n 0, 0,\n width, \n height \n ).data.buffer);\n \n\n\n for(let i = 0; i < data32.length; i++) {\n // -- Check if the pixel is not transparent\n if (data32[i] & 0xff000000) balls.push({\n x: (i % width) | 0,\n y: ((i / width) | 0),\n });\n }\n\n\n // -- Convert the balls into a matrix of points wher 1 is a point and 0 is not\n for(let i = 0; i < balls.length; i++) {\n const ball = balls[i];\n\n if (!matrix[ball.y]) matrix[ball.y] = [];\n matrix[ball.y][ball.x] = 1;\n }\n\n\n // -- Fill in the gaps\n let processes: Array<Array<number>> = [];\n for(let i = 0; i < matrix.length; i++) {\n const row = matrix[i];\n if (!row) continue;\n let new_row = [];\n \n for(let j = 0; j < row.length; j++) {\n \n if (row[j] === 1) new_row.push(1);\n else new_row.push(0);\n \n }\n\n processes.push(new_row);\n }\n\n \n\n // -- return 2D array of points\n return processes;\n}\n"],"names":["_regeneratorRuntime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","defineProperty","obj","key","desc","value","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","_typeof","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","undefined","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","arguments","apply","_canvases","start_draw","_start_draw","_callee2","_context2","canvas","current_time","performance","now","elapsed_time","last_frame_time","real_frame_rate","frame_rate","ctx","save","setTransform","clearRect","width","height","restore","draw_callback","frame_callbacks","cb","func","requestAnimationFrame","get_dist_from_mouse","mouse_pos","x","y","Math","sqrt","pow","push_dot","dist","max_dist","force","angle","atan2","cos","sin","Controller","parent","property","className","widgetTag","this","_disabled","_hidden","initialValue","getValue","domElement","document","createElement","classList","add","$name","nextNameID","id","$widget","$disable","appendChild","addEventListener","e","stopPropagation","children","controllers","$children","_listenCallback","bind","_name","innerHTML","onChange","callback","_onChange","_callOnChange","_changed","onFinishChange","_onFinishChange","_callOnFinishChange","setValue","enable","enabled","disable","disabled","toggle","toggleAttribute","show","style","display","hide","options","controller","destroy","min","max","step","decimals","listen","_listening","_listenCallbackID","cancelAnimationFrame","curValue","_listenPrevValue","updateDisplay","load","splice","indexOf","removeChild","BooleanController","super","$input","setAttribute","checked","normalizeColorString","string","match","parseInt","toString","padStart","INT","isPrimitive","v","fromHexString","substring","toHexString","ARRAY","Array","isArray","target","rgbScale","int","r","g","b","OBJECT","FORMATS","ColorController","$text","$display","_format","find","format","_rgbScale","_initialValueHexString","_textFocused","_setValueFromHexString","tryParse","select","newValue","backgroundColor","FunctionController","$button","preventDefault","passive","NumberController","_initInput","stepExplicit","_getImplicitStep","_decimals","_min","_onUpdateMinMax","_max","explicit","_step","_stepExplicit","_hasSlider","percent","$fill","_inputFocused","toFixed","window","matchMedia","matches","increment","delta","parseFloat","_snapClampSetValue","initClientX","initClientY","prevClientY","initValue","dragDelta","testingForVerticalDrag","onMouseMove","dx","clientX","dy","clientY","abs","blur","_setDraggingStyle","onMouseUp","_arrowKeyMultiplier","removeEventListener","_snap","_clamp","code","_normalizeMouseWheel","_initSlider","$slider","insertBefore","setValueFromX","rect","getBoundingClientRect","a","left","right","c","d","mouseMove","mouseUp","prevClientX","testingForScroll","beginTouchDrag","touches","onTouchMove","onTouchEnd","callOnFinishChange","wheelFinishChangeTimeout","_hasScrollBar","deltaX","deltaY","clearTimeout","setTimeout","active","axis","body","_hasMin","_hasMax","floor","wheelDelta","mult","shiftKey","altKey","round","toPrecision","root","scrollHeight","clientHeight","OptionController","$select","_values","_names","$option","selectedIndex","remove","index","StringController","stylesInjected","GUI","autoPlace","container","title","closeFolders","injectStyles","touchStyles","folders","_closed","$title","openAnimated","click","cssContent","injected","before","querySelector","head","_injectStyles","setProperty","_closeFolders","$1","console","addColor","addFolder","folder","close","recursive","f","_title","open","_setClosed","closed","_callOnOpenClose","initialHeight","onTransitionEnd","targetHeight","controllersRecursive","onOpenClose","_onOpenClose","changedGUI","parentElement","from","concat","foldersRecursive","main_canvas","getElementById","main_context","getContext","update_canvas_size","offsetWidth","offsetHeight","scale","dots","rows","cols","dot_size","dot_spacing","force_size","color","dots_detailed","name_width","name_height","text","auto_scale","font_size","gui","ctrl","log","mouse_event","mc","canvas_obj","add_frame_callback","fc","add_canvas","text_height","ci","balls","matrix","font","fillStyle","fillText","data32","Uint32Array","getImageData","data","buffer","ball","processes","row","new_row","j","generate_text_points","x_o","y_o","canvas_pos","get_relative_pos","beginPath","arc","PI","fill","detailed","col","size","_push_dot2","_slicedToArray","norm_dist","render_dots","_objectSpread","adjust_scale"],"sourceRoot":""}